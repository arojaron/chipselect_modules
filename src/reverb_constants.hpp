#pragma once

#include "delay_stage_4.hpp"
#include "matrix_mixer_4.hpp"

constexpr StageLengths lengths_A[4] = {
	{0, 0.0120, 0.0176, 0.0280},
	{0, 0.0272, 0.0408, 0.0528},
	{0, 0.0552, 0.0680, 0.1064},
	{0, 0.0888, 0.1576, 0.2368}};
constexpr StageLengths lengths_B[4] = {
	{0.211524, 0.030249, 0.180171, 0.054422},
	{0.032642, 0.034072, 0.015081, 0.022928},
	{0.011272, 0.194337, 0.016030, 0.059620},
	{0.179662, 0.121817, 0.202029, 0.058227}};
constexpr StageLengths lengths_C[4] = {
	{1.6269e-01, 6.5467e-02, 3.1425e-02, 7.4121e-03},
	{1.2118e-01, 6.2417e-02, 1.7031e-02, 4.3410e-02},
	{1.4906e-02, 1.0082e-01, 1.5862e-01, 3.3010e-02},
	{9.6523e-02, 9.9959e-02, 4.1614e-02, 8.5725e-02}};
constexpr StageLengths lengths_D[4] = {	
	{0, 0.121075, 0.161900, 0.102859},
	{0, 0.042423, 0.145897, 0.161450},
	{0, 0.061075, 0.075897, 0.052859},
	{0, 0, 0, 0}};

constexpr Mixer4Coefficients mix_coefs_A[4] = {
	{-0.5, -0.5, -0.5, 0.5,
	-0.5, -0.5, 0.5, -0.5,
	-0.5, 0.5, -0.5, -0.5,
	0.5, -0.5, -0.5, -0.5},
	{-0.5, -0.5, -0.5, 0.5,
	-0.5, 0.5, -0.5, -0.5,
	-0.5, -0.5, 0.5, -0.5,
	0.5, -0.5, -0.5, -0.5},
	{-0.5, 0.5, -0.5, -0.5,
	-0.5, -0.5, -0.5, 0.5,
	0.5, -0.5, -0.5, -0.5,
	-0.5, -0.5, 0.5, -0.5},
	{0.7450, -0.2874, -0.4203, -0.4311,
	-0.2874, 0.6762, -0.4736, -0.4857,
	-0.4203, -0.4736, 0.3074, -0.7104,
	-0.4311, -0.4857, -0.7104, 0.2714}
};
constexpr Mixer4Coefficients mix_coefs_B[4] = {
	{-0.5, -0.5, -0.5, 0.5,
	-0.5, -0.5, 0.5, -0.5,
	-0.5, 0.5, -0.5, -0.5,
	0.5, -0.5, -0.5, -0.5},
	{-0.5, -0.5, -0.5, 0.5,
	-0.5, 0.5, -0.5, -0.5,
	-0.5, -0.5, 0.5, -0.5,
	0.5, -0.5, -0.5, -0.5},
	{-0.5, 0.5, -0.5, -0.5,
	-0.5, -0.5, -0.5, 0.5,
	0.5, -0.5, -0.5, -0.5,
	-0.5, -0.5, 0.5, -0.5},
	{0.3228, 0.1231, 0.5787, 0.7388,
	0.1231, 0.9776, -0.1052, -0.1343,
	0.5787, -0.1052, 0.5055, -0.6313,
	0.7388, -0.1343, -0.6313, 0.1941}
};

constexpr Mixer4Coefficients mix_coefs_N[4] = {
	//{0.4368,   0.4800,  -0.7080,  -0.2784,
   //0.4800,   0.5909,   0.6034,   0.2373,
  //-0.7080,  0.6034,   0.1099,  -0.3501,
  //-0.2784,   0.2373,  -0.3501,   0.8623},

{0.608565,  -0.708182,  -0.105746,  -0.341973,
	-0.708182, -0.281236,  -0.191315,  -0.618695,
	-0.105746,  -0.191315,   0.971433,  -0.092384,
	-0.341973,  -0.618695,  -0.092384,   0.701239},

	{0.608565,  -0.708182,  -0.105746,  -0.341973,
	-0.708182, -0.281236,  -0.191315,  -0.618695,
	-0.105746,  -0.191315,   0.971433,  -0.092384,
	-0.341973,  -0.618695,  -0.092384,   0.701239},

	{0.608565,  -0.708182,  -0.105746,  -0.341973,
	-0.708182, -0.281236,  -0.191315,  -0.618695,
	-0.105746,  -0.191315,   0.971433,  -0.092384,
	-0.341973,  -0.618695,  -0.092384,   0.701239},

	{0.608565,  -0.708182,  -0.105746,  -0.341973,
	-0.708182, -0.281236,  -0.191315,  -0.618695,
	-0.105746,  -0.191315,   0.971433,  -0.092384,
	-0.341973,  -0.618695,  -0.092384,   0.701239},

	//{-0.5330,  -0.6203,  -0.4715,  -0.3300,
	//-0.6203,   0.7490,  -0.1908,  -0.1335,
	//-0.4715,  -0.1908,   0.8550,  -0.1015,
	//-0.3300,  -0.1335,  -0.1015,   0.9290},

	//{0.6637,  0.5265,   0.4577,  -0.2698,
	//0.5265,   0.1757,  -0.7166,   0.4224,
	//0.4577,  -0.7166,   0.3770,   0.3672,
	//-0.2698,   0.4224,   0.3672,   0.7836}
};

constexpr StageLengths lengths_K = {
	1.0, 1.0, 1.0, 1.0
};
constexpr Mixer4Coefficients mix_coefs_K = {
	0.7450, -0.2874, -0.4203, -0.4311,
	-0.2874, 0.6762, -0.4736, -0.4857,
	-0.4203, -0.4736, 0.3074, -0.7104,
	-0.4311, -0.4857, -0.7104, 0.2714
};